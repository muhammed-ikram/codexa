[1mdiff --git a/frontend/src/components/CodeEditor.jsx b/frontend/src/components/CodeEditor.jsx[m
[1mindex 3621ac1..95111f9 100644[m
[1m--- a/frontend/src/components/CodeEditor.jsx[m
[1m+++ b/frontend/src/components/CodeEditor.jsx[m
[36m@@ -1,34 +1,172 @@[m
 // CodeEditor.jsx[m
[31m-import React, { useRef, useState, useEffect, useMemo } from "react";[m
[31m-import {[m
[31m-  Box,[m
[31m-  HStack,[m
[31m-  VStack,[m
[31m-  Button,[m
[31m-  IconButton,[m
[31m-  Text,[m
[31m-  Heading,[m
[31m-  Divider,[m
[31m-  useToast,[m
[31m-  Menu,[m
[31m-  MenuButton,[m
[31m-  MenuList,[m
[31m-  MenuItem,[m
[31m-  Tooltip,[m
[31m-} from "@chakra-ui/react";[m
[31m-import {[m
[31m-  AddIcon,[m
[31m-  DeleteIcon,[m
[31m-  EditIcon,[m
[31m-  ExternalLinkIcon,[m
[31m-  ViewIcon,[m
[31m-  RepeatIcon,[m
[31m-  UnlockIcon,[m
[31m-} from "@chakra-ui/icons";[m
[31m-import { Editor } from "@monaco-editor/react";[m
[32m+[m[32mimport React, { useRef, useState, useEffect, useMemo, useCallback } from "react";[m
[32m+[m[32mimport { Editor, loader } from "@monaco-editor/react";[m
[32m+[m[32mimport * as monaco from 'monaco-editor';[m
 import LanguageSelector from "./LanguageSelector";[m
 import { CODE_SNIPPETS } from "../constants";[m
 import Output from "./Output";[m
[32m+[m[32mimport { enhanceMonacoEditor } from "../utils/monacoEnhancements";[m
[32m+[m[32mimport VirtualizedTree from "./VirtualizedTree";[m
[32m+[m[32mimport CommandPalette from "./CommandPalette";[m
[32m+[m[32mimport AdvancedSearch from "./AdvancedSearch";[m
[32m+[m[32mimport PerformanceDashboard from "./PerformanceDashboard";[m
[32m+[m[32mimport IntegratedTerminal from "./IntegratedTerminal";[m
[32m+[m[32mimport TabManager from "./TabManager";[m
[32m+[m[32mimport { MemoryMonitor, CleanupManager, scheduleGC } from "../utils/memoryOptimization";[m
[32m+[m
[32m+[m[32m// Icons[m
[32m+[m[32mconst AddIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst DeleteIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst EditIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst ExternalLinkIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst ViewIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst RepeatIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4 4-4H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst UnlockIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32mconst SearchIcon = () => ([m
[32m+[m[32m  <svg viewBox="0 0 24 24" fill="currentColor" className="w-4 h-4">[m
[32m+[m[32m    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>[m
[32m+[m[32m  </svg>[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32m// Custom UI Components for Tailwind[m
[32m+[m[32mconst Button = ({ children, onClick, className = "", variant = "primary", size = "sm", disabled = false, ...props }) => {[m
[32m+[m[32m  const baseClasses = "monaco-button inline-flex items-center justify-center";[m
[32m+[m[32m  const variantClasses = {[m
[32m+[m[32m    primary: "monaco-button-primary",[m
[32m+[m[32m    secondary: "monaco-button-secondary",[m
[32m+[m[32m    ghost: "monaco-button-ghost"[m
[32m+[m[32m  };[m
[32m+[m[32m  const sizeClasses = {[m
[32m+[m[32m    sm: "text-sm px-3 py-1.5",[m
[32m+[m[32m    md: "text-base px-4 py-2",[m
[32m+[m[32m    lg: "text-lg px-6 py-3"[m
[32m+[m[32m  };[m
[32m+[m[41m  [m
[32m+[m[32m  return ([m
[32m+[m[32m    <button[m
[32m+[m[32m      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${disabled ? 'opacity-50 cursor-not-allowed' : ''} ${className}`}[m
[32m+[m[32m      onClick={onClick}[m
[32m+[m[32m      disabled={disabled}[m
[32m+[m[32m      {...props}[m
[32m+[m[32m    >[m
[32m+[m[32m      {children}[m
[32m+[m[32m    </button>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst IconButton = ({ icon, onClick, className = "", variant = "ghost", size = "sm", "aria-label": ariaLabel, title, disabled = false }) => {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Button[m
[32m+[m[32m      onClick={onClick}[m
[32m+[m[32m      variant={variant}[m
[32m+[m[32m      size={size}[m
[32m+[m[32m      className={`p-2 ${className}`}[m
[32m+[m[32m      disabled={disabled}[m
[32m+[m[32m      aria-label={ariaLabel}[m
[32m+[m[32m      title={title}[m
[32m+[m[32m    >[m
[32m+[m[32m      {icon}[m
[32m+[m[32m    </Button>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst Tooltip = ({ children, label }) => {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className="relative group">[m
[32m+[m[32m      {children}[m
[32m+[m[32m      <div className="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50">[m
[32m+[m[32m        {label}[m
[32m+[m[32m      </div>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst Menu = ({ children }) => {[m
[32m+[m[32m  const [isOpen, setIsOpen] = useState(false);[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className="relative">[m
[32m+[m[32m      {React.Children.map(children, child =>[m[41m [m
[32m+[m[32m        React.cloneElement(child, { isOpen, setIsOpen })[m
[32m+[m[32m      )}[m
[32m+[m[32m    </div>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst MenuButton = ({ children, isOpen, setIsOpen }) => {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Button[m
[32m+[m[32m      onClick={() => setIsOpen(!isOpen)}[m
[32m+[m[32m      variant="ghost"[m
[32m+[m[32m      size="sm"[m
[32m+[m[32m      className="relative"[m
[32m+[m[32m    >[m
[32m+[m[32m      {children}[m
[32m+[m[32m    </Button>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst MenuList = ({ children, isOpen }) => {[m
[32m+[m[32m  if (!isOpen) return null;[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className="absolute top-full right-0 mt-1 bg-monaco-sidebar border border-monaco-border rounded-lg shadow-lg py-1 min-w-48 z-50">[m
[32m+[m[32m      {children}[m
[32m+[m[32m    </div>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst MenuItem = ({ children, onClick }) => {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <button[m
[32m+[m[32m      className="block w-full text-left px-4 py-2 text-sm text-monaco-text hover:bg-monaco-hover transition-colors"[m
[32m+[m[32m      onClick={onClick}[m
[32m+[m[32m    >[m
[32m+[m[32m      {children}[m
[32m+[m[32m    </button>[m
[32m+[m[32m  );[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mconst useToast = () => {[m
[32m+[m[32m  return (options) => {[m
[32m+[m[32m    // Simple toast implementation or integrate with a toast library[m
[32m+[m[32m    console.log('Toast:', options.title, options.description);[m
[32m+[m[32m    alert(`${options.title}: ${options.description}`);[m
[32m+[m[32m  };[m
[32m+[m[32m};[m
 [m
 /**[m
  * Enhanced CodeEditor[m
[36m@@ -50,6 +188,81 @@[m [mimport Output from "./Output";[m
 [m
 /* ----------------------------- Utilities ----------------------------- */[m
 [m
[32m+[m[32m// Debounce utility for performance optimization[m
[32m+[m[32mconst debounce = (func, wait) => {[m
[32m+[m[32m  let timeout;[m
[32m+[m[32m  return function executedFunction(...args) {[m
[32m+[m[32m    const later = () => {[m
[32m+[m[32m      clearTimeout(timeout);[m
[32m+[m[32m      func(...args);[m
[32m+[m[32m    };[m
[32m+[m[32m    clearTimeout(timeout);[m
[32m+[m[32m    timeout = setTimeout(later, wait);[m
[32m+[m[32m  };[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32m// Advanced Monaco Editor configuration for VS Code-like performance[m
[32m+[m[32mconst getEditorOptions = (language) => ({[m
[32m+[m[32m  // Performance optimizations[m
[32m+[m[32m  minimap: { enabled: true, scale: 1, renderCharacters: false },[m
[32m+[m[32m  fontSize: 14,[m
[32m+[m[32m  fontFamily: "'Cascadia Code', 'Fira Code', 'Monaco', 'Consolas', monospace",[m
[32m+[m[32m  lineHeight: 22,[m
[32m+[m[32m  wordWrap: "on",[m
[32m+[m[32m  automaticLayout: true,[m
[32m+[m[41m  [m
[32m+[m[32m  // Advanced editing features[m
[32m+[m[32m  multiCursorModifier: "ctrlCmd",[m
[32m+[m[32m  selectOnLineNumbers: true,[m
[32m+[m[32m  matchBrackets: "always",[m
[32m+[m[32m  folding: true,[m
[32m+[m[32m  foldingStrategy: "auto",[m
[32m+[m[32m  showFoldingControls: "always",[m
[32m+[m[41m  [m
[32m+[m[32m  // IntelliSense and suggestions[m
[32m+[m[32m  suggestOnTriggerCharacters: true,[m
[32m+[m[32m  acceptSuggestionOnCommitCharacter: true,[m
[32m+[m[32m  acceptSuggestionOnEnter: "on",[m
[32m+[m[32m  quickSuggestions: {[m
[32m+[m[32m    other: true,[m
[32m+[m[32m    comments: true,[m
[32m+[m[32m    strings: true[m
[32m+[m[32m  },[m
[32m+[m[32m  parameterHints: { enabled: true },[m
[32m+[m[41m  [m
[32m+[m[32m  // Code formatting[m
[32m+[m[32m  formatOnPaste: true,[m
[32m+[m[32m  formatOnType: true,[m
[32m+[m[32m  autoIndent: "full",[m
[32m+[m[32m  tabSize: 2,[m
[32m+[m[32m  insertSpaces: true,[m
[32m+[m[41m  [m
[32m+[m[32m  // Visual enhancements[m
[32m+[m[32m  renderLineHighlight: "gutter",[m
[32m+[m[32m  renderWhitespace: "selection",[m
[32m+[m[32m  renderControlCharacters: true,[m
[32m+[m[32m  renderIndentGuides: true,[m
[32m+[m[32m  highlightActiveIndentGuide: true,[m
[32m+[m[32m  bracketPairColorization: { enabled: true },[m
[32m+[m[41m  [m
[32m+[m[32m  // Performance settings[m
[32m+[m[32m  scrollBeyondLastLine: false,[m
[32m+[m[32m  smoothScrolling: true,[m
[32m+[m[32m  cursorBlinking: "smooth",[m
[32m+[m[32m  cursorSmoothCaretAnimation: "on",[m
[32m+[m[41m  [m
[32m+[m[32m  // Language-specific optimizations[m
[32m+[m[32m  ...(language === 'javascript' || language === 'typescript' ? {[m
[32m+[m[32m    semanticHighlighting: { enabled: true },[m
[32m+[m[32m    hover: { enabled: true },[m
[32m+[m[32m    colorDecorators: true,[m
[32m+[m[32m  } : {}),[m
[32m+[m[41m  [m
[32m+[m[32m  // Memory optimization[m
[32m+[m[32m  wordBasedSuggestions: "currentDocument",[m
[32m+[m[32m  wordBasedSuggestionsOnlySameLanguage: true,[m
[32m+[m[32m});[m
[32m+[m
 const defaultProject = [[m
   {[m
     name: "index.html",[m
[36m@@ -182,7 +395,10 @@[m [mconst insertNodeAtParent = (nodes, parentPath, newNode) => {[m
 [m
 const CodeEditor = () => {[m
   const editorRef = useRef();[m
[32m+[m[32m  const monacoRef = useRef();[m
   const toast = useToast();[m
[32m+[m[32m  const memoryMonitor = useRef(new MemoryMonitor());[m
[32m+[m[32m  const cleanupManager = useRef(new CleanupManager());[m
 [m
   const [project, setProject] = useState(() => {[m
     try {[m
[36m@@ -211,14 +427,80 @@[m [mconst CodeEditor = () => {[m
 [m
   const [dirHandle, setDirHandle] = useState(null);[m
   const [previewOpen, setPreviewOpen] = useState(true);[m
[32m+[m[32m  const [outputOpen, setOutputOpen] = useState(true);[m
[32m+[m[32m  const [rightPanelTab, setRightPanelTab] = useState('general'); // Simple general panel[m
[32m+[m[32m  const [bottomPanelOpen, setBottomPanelOpen] = useState(true);[m
[32m+[m[32m  const [isEditorReady, setIsEditorReady] = useState(false);[m
[32m+[m[32m  const [isCommandPaletteOpen, setIsCommandPaletteOpen] = useState(false);[m
[32m+[m[32m  const [isSearchOpen, setIsSearchOpen] = useState(false);[m
[32m+[m[32m  const [isTerminalOpen, setIsTerminalOpen] = useState(false);[m
[32m+[m[32m  const [openTabs, setOpenTabs] = useState(() => {[m
[32m+[m[32m    const files = collectAllFiles(project);[m
[32m+[m[32m    return files.length > 0 ? [{ path: files[0].path, name: files[0].name, content: files[0].content }] : [];[m
[32m+[m[32m  });[m
[32m+[m[32m  const [activeTabIndex, setActiveTabIndex] = useState(0);[m
[32m+[m
[32m+[m[32m  // Debounced update functions for performance[m
[32m+[m[32m  const debouncedProjectUpdate = useCallback([m
[32m+[m[32m    debounce((newProject) => {[m
[32m+[m[32m      try {[m
[32m+[m[32m        const serializable = JSON.parse(JSON.stringify(newProject, (k, v) => (k === "handle" ? undefined : v)));[m
[32m+[m[32m        localStorage.setItem("ide_project_v2", JSON.stringify(serializable));[m
[32m+[m[32m      } catch (e) {[m
[32m+[m[32m        console.warn('Failed to save project to localStorage:', e);[m
[32m+[m[32m      }[m
[32m+[m[32m    }, 500),[m
[32m+[m[32m    [][m
[32m+[m[32m  );[m
[32m+[m
[32m+[m[32m  const debouncedContentUpdate = useCallback([m
[32m+[m[32m    debounce((path, content) => {[m
[32m+[m[32m      setProject((prev) => updateNodeContent(prev, path, (n) => ({ ...n, content })));[m
[32m+[m[32m    }, 200),[m
[32m+[m[32m    [][m
[32m+[m[32m  );[m
 [m
   /* --------------------------- Persistence --------------------------- */[m
   useEffect(() => {[m
[31m-    try {[m
[31m-      const serializable = JSON.parse(JSON.stringify(project, (k, v) => (k === "handle" ? undefined : v)));[m
[31m-      localStorage.setItem("ide_project_v2", JSON.stringify(serializable));[m
[31m-    } catch (e) {[m
[31m-      // ignore[m
[32m+[m[32m    debouncedProjectUpdate(project);[m
[32m+[m[32m  }, [project, debouncedProjectUpdate]);[m
[32m+[m
[32m+[m[32m  /* ------------------------- Memory Management ------------------------ */[m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    // Start memory monitoring[m
[32m+[m[32m    memoryMonitor.current.startMonitoring(10000); // Every 10 seconds[m
[32m+[m[41m    [m
[32m+[m[